<div >
<app-ncats-header></app-ncats-header>

<mat-sidenav-container class="content">
  <button type="button" class="sidenavToggle" mat-raised-button [color]="'accent'" (click)="sidenav.toggle()">
    <mat-icon>menu</mat-icon>
  </button>

  <mat-sidenav #sidenav [mode]="'over'" class = "upperSection">
    <!-- sidenav content -->
    <app-filter-panel></app-filter-panel>
  </mat-sidenav>

  <!-- primary content -->
<div >
  <div *ngIf="loading" class = "loadingIcon" fxLayoutAlign="center center">
    <mat-spinner></mat-spinner>
  </div>
  <mat-expansion-panel [expanded]="'true'">
    <mat-expansion-panel-header>
      <mat-panel-title>
        <h1>{{years.join(", ")}} Overview</h1><br>
      </mat-panel-title>
    </mat-expansion-panel-header>
    <div fxLayout="row" fxLayout.xs="column" fxLayoutGap="10px" fxLayoutAlign="start none">
      <div fxFlex="100">
        <mat-card fxFlex fxFlexAlign="stretch">
          <div *ngFor="let year of years">
            <h4>{{year}}</h4>
          <div [ngSwitch]=year>
            <div *ngSwitchCase="'2017'">
                - Second <span class = "ncats-emphasis">highest</span> ever number of drugs approved (50).<br>
                - <span class = "ncats-emphasis">First</span> ever approval of gene therapies (3 approved).<br>
                - <span class = "ncats-emphasis">Quickest</span> clinical development time (2.8 years).<br>
            </div>
            <div *ngSwitchCase="'2016'">
              - <span class = "ncats-emphasis">First</span> Morpholino Anti-sense oligo (eteplirsen).<br>
            </div>
            <div *ngSwitchCase="'2015'">
              - <span class = "ncats-emphasis">Most</span> first-in-class drug approvals in recent years (20).<br>
            </div>
            <div *ngSwitchCase="'2014'">
              - <span class = "ncats-emphasis">Most</span> fast-tracked drug approvals in recent years (19) and most Accellerated Approvals (8).<br>
              - <span class = "ncats-emphasis">First</span> bispecific antibody approval (<a href ='https://drugs.ncats.io/ginas/app/drug/4FR53SIF3A' target="_blank">blinatumomab</a>).<br>
            </div>
            <div *ngSwitchCase="'2013'">
              - <span class = "ncats-emphasis">First</span> approval of an antisense oligonucleotide (<a href ='https://drugs.ncats.io/ginas/app/drug/18EAY4870E' target="_blank">mipomersen sodium </a>).<br>
              - <span class = "ncats-emphasis">Breakthrough</span> therapy approved for the treatment of Hepatitis C infection (<a href ='https://drugs.ncats.io/ginas/app/drug/WJ6CA3ZU8B' target="_blank">sofosbuvir</a>).<br>
            </div>
            <div *ngSwitchCase="'2012'">
              - <span class = "ncats-emphasis">First</span> new drug for tuberculosis in over 40 years (<a href ='https://drugs.ncats.io/ginas/app/drug/78846I289Y' target="_blank">bedaquiline</a>).<br>
            </div>
            <div *ngSwitchDefault></div>
          </div>
          </div>
        <!-- <h3>First gene therapies approved in 2017 (3 in all)</h3>
        <a href = "https://drugs.ncats.io/ginas/app/drug/2SPI046IKD" target="_blank">voretigene neparvovec</a><br>
        <a href = "https://drugs.ncats.io/ginas/app/drug/U2I8T43Y7R" target="_blank">axicabtagene ciloleucel</a><br>
        <a href = "https://drugs.ncats.io/ginas/app/drug/Q6C9WHR03O" target="_blank">tisagenlecleucel</a><br>-->

        </mat-card>
      </div>

<!--    <div fxFlex="33">
      <mat-card fxFlex fxFlexAlign="stretch">
        <app-time-counts></app-time-counts>
      </mat-card>
    </div>-->
   <!-- <div fxFlex="50">
      <mat-card fxFlex fxFlexAlign="stretch">
      <app-drug-counts></app-drug-counts>
      </mat-card>
    </div>-->
  </div>
  </mat-expansion-panel>

<!--  <mat-expansion-panel [expanded]="'true'">
    <mat-expansion-panel-header>
      <mat-panel-title>
        <h1>{{years.join(", ")}} Timeline</h1><br>
      </mat-panel-title>
    </mat-expansion-panel-header>
  <div fxLayout="row" id="timeLine">
     <div fxFlex="99">
           <app-timeline></app-timeline>
   </div>
 </div>
  </mat-expansion-panel>-->

  <mat-expansion-panel [expanded]="'true'">
    <mat-expansion-panel-header>
      <mat-panel-title>
        <h1>{{years.join(", ")}} Details</h1><br>
      </mat-panel-title>
    </mat-expansion-panel-header>
    <div fxLayout="row" fxLayout.xs="column" fxLayoutGap="10px" fxLayoutAlign="center none">
    <div fxFlex="33">
      <mat-card fxFlex fxFlexAlign="stretch">
        <app-year-details></app-year-details>
      </mat-card>
    </div>
   <div fxFlex="33">
     <mat-card fxFlex fxFlexAlign="stretch">
     <app-drug-charts [fields]="['substanceClass','moleculeType']" [label]="'Substance Class'"></app-drug-charts>
     </mat-card>
   </div>
  <div fxFlex="33">
    <mat-card fxFlex fxFlexAlign="stretch">
    <app-drug-charts [fields]="['therapeuticClass', 'substanceClass']" [label]="'Therapeutic Class'"></app-drug-charts>
    </mat-card>
   </div>
   <!--
   <div fxFlex="33">
   <app-drug-charts [field]="'pharmacology'" [label]="'Pharmacology'"></app-drug-charts>
   </div>-->
 </div>
  </mat-expansion-panel>

  <mat-expansion-panel [expanded]="'true'">
    <mat-expansion-panel-header>
      <mat-panel-title>
        <h1>{{years.join(", ")}} All Drugs</h1><br>
      </mat-panel-title>
    </mat-expansion-panel-header>
 <div fxLayout="row" fxLayout.xs="column">
   <div fxFlex="99">
   <app-drug-details></app-drug-details>
   </div>
 </div>
  </mat-expansion-panel>
</div>

  <div class="scroll-to-top" [ngClass]="{'show-scroll': navIsFixed}">
    <button  mat-fab color="primary" (click)="scrollToTop()">
      <mat-icon> arrow_upward </mat-icon>
    </button>
  </div>

</mat-sidenav-container>
<!--Scroll to top-->
</div>
<app-ncats-footer class ="footer"></app-ncats-footer>








